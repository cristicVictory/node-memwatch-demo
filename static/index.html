<!DOCTYPE html>
<html>
<head>
  <title>node-gcstats</title>
  <link rel="stylesheet" href="/style.css" type="text/css">
  <link href='http://fonts.googleapis.com/css?family=Belgrano' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=Cousine:400,700' rel='stylesheet' type='text/css'>

</head>
<body>

  <div class='content'>

    <!--
         To set the title, have the server emit a 'configure' signal
         including the message {title: "your ad here"}
      -->

    <h1 class="title">node-gcstats demo</h1>

    <ul class='buttons'>
      <li class='button pause-button paused' id='pause'>GO</li>
      <li class='button big-button disabled' id='do_gc'>Force Compaction</li>
      <li class='button big-button' id='add_load'>Make It Busy</li>
    </ul>

    <div id='graph'></div>

      <!--
           To reveal one or the other of these boxes, the server should
           emit a 'configure' signal with data like {show: "events,usage"}
        -->


    <div class='display'>
      <div class='display-box left events' style='display: none'>
        <h3><code>gcstats</code> events</h3>
        <ul class='display-items'>
          <li class='currentBase'>Curr base <span class='data'/></li>
          <li class='estimatedBase'>Est base <span class='data'/></li>
          <li class='usageTrend'>Usage trend <span class='data'/></li>
          <li class='fullGCCount'>Full GCs <span class='data'/></li>
          <li class='incrGCCount'>Incr GCs <span class='data'/></li>
          <li class='heapCompactions'>Compactions <span class='data'/></li>
        </ul>
      </div>

      <div class='display-box right usage' style='display: none'>
        <h3><code>memoryUsage()</code></h3>
        <ul class='display-items'>
          <li class='heapUsed'>Heap used <span class='data'/></li>
          <li class='heapTotal'>Heap total <span class='data'/></li>
          <li class='RSS'>RSS <span class='data'/></li>
        </ul>
      </div>

      <div class='display-box right allocations' style='display: none'>
        <h3>Top Heap Allocations</h3>
        <ul class='display-items'>
          <li><span class='name'>---</span> <span class='data'/></li>
          <li><span class='name'>---</span> <span class='data'/></li>
          <li><span class='name'>---</span> <span class='data'/></li>
          <li><span class='name'>---</span> <span class='data'/></li>
          <li><span class='name'>---</span> <span class='data'/></li>
          <li><span class='name'>---</span> <span class='data'/></li>
        </ul>
      </div>

    </div>

  </div>
</body>

<script src="/head.min.js"></script>
<script>
head.js(
  {socket_io: "/socket.io/socket.io.js"},
  {jquery:    "/jquery-1.7.1.min.js"},
  {jq_noisy:  "/jquery.noisy.min.js"},
  {d3:        "/d3.v2.min.js"},
  {graph:     "/graph.js"},
  {client:    "/client.js"})
  .ready(function() {
    $('body').noisy();
  });
</script>
</html>
